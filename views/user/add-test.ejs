<% include general/header %>
<script>
window.varArray = <%= JSON.stringify(lvs) %>;
</script>
<script src="js/add-test.js"></script>
<link rel="stylesheet" href="css/add-test.css">
<br>
<div class="container">
  <div class="row">
    <div class="col-md-6" id="left-layer">


    </div>

    <!-- Right Layer -->
    <div class="col-md-6" id="right-layer">

      <div class="tab">
        <div class="row">
          <button class="tablinks col-md-6" onclick="openTab(event, 'handwork')">Thêm thủ công</button>
          <button class="tablinks col-md-6" onclick="openTab(event, 'automatic')">Thêm tự động</button>
        </div>
      </div>

      <div class="tabcontent" id="handwork">
        <div id="find-box-handwork">
          <form class="form" action="/">
            <div>
              <label>Thể loại: </label><select>
                <option>Choose...</option>
                <% for (var i = 0; i < lvs.length; i++) { %>
                <option value = <%= lvs[i] %> ><%= lvs[i] %></option>
                <% } %>
              </select>
            </div>
            <div>
              <label>Độ khó: </label><select>
                <option>Choose...</option>
                <option>Dễ</option>
                <option>Trung bình</option>
                <option>Khó</option>
              </select>
            </div>
            <div>
              <button type="button">Tìm kiếm</button>
            </div>
          </form>
        </div>
        <!-- Question selector box -->
        <div>
          <% for (var i = 0; i < questions.length; i++) { var n = 0; %>
          <div class="question-box">
            <div>
              <button class="button-add">Thêm</button>
              <button class="button-type" style="float: right"><%= questions[i].diff %></button>
              <button class="button-sub" style="float: right; margin-right: 5px;"><%= questions[i].lv %></button>
            </div>
            <div class="question"><b>Câu <%= i+1 %>: </b><%= questions[i].content %>
            </div>
            <div class="answer-box">
              <div class="row">
                <% if (questions[i].type == 1) { %>
                <div class="col-md-6">
                  <label name="answer-info"> <input type="radio" name="answer-chose"> <label class="STT">A.</label>Đúng</label>
                </div>
                <div class="col-md-6">
                  <label name="answer-info"> <input type="radio" name="answer-chose"> <label class="STT">B.</label>Sai</label>
                </div>
                <% } else if (questions[i].type == 2 ) { n = 0; %>
                <% for (var j = 0; j < answers.length; j++) { if (answers[j].id == questions[i].id) {%>
                <div class="col-md-6">
                  <label name="answer-info"> <input type="radio" name="answer-chose"> <label class="STT"><%= String.fromCharCode((n++) + 65) %>. </label><%= answers[j].content %></label>
                </div>
                <%} }%>
                <% } else if (questions[i].type == 3) { n = 0; %>
                <% for (var j = 0; j < answers.length; j++) { if (answers[j].id == questions[i].id) {%>
                <div class="col-md-6">
                  <label name="answer-info"> <input type="checkbox" name="answer-chose"> <label class="STT"><%= String.fromCharCode((n++) + 65) %>.</label><%= answers[j].content %></label>
                </div>
                <%} } %>
                <% } %>
              </div>
            </div>
          </div>
          <% } %>
        </div>
      </div>
      <div class="tabcontent" id="automatic">
        <div id="find-box-automatic">
          <form class="form" action="/action_page.php">
            <div>
              <label>Thể loại: </label><input type="text" id="question-type">
            </div>
            <div>
              <label>Độ khó: </label><input type="text" id="question-level">
            </div>
            <div>
              <label>Số câu hỏi: </label><input type="number" id="question-selected-number">
            </div>
            <button class="selector-remove">Thêm câu hỏi</button>
          </form>
        </div>
      </div>
    </div>
  </div>
  <div class="test-create-end">
    <div class="row">
      <div class="col-md-6" style="padding-left:0px">
        <div class="row">
          <div class="col-md-6">
            <label><b>Tổng số câu đã tạo: </b></label> <label id="question-sum">0</label>
          </div>
        </div>
      </div>
    </div>
    <form>
      <div class="row form-group">
        <label style="width: 150px"><b>Tên bài test: </b></label>
        <input type="text" class="col-sm-5 form-control" required>
      </div>
      <div class="row form-group">
        <label style="width: 150px"><b>Mật khẩu (nếu có): </b></label>
        <input type="text" class="col-sm-5 form-control" required>
      </div>
      <div class="row form-group">
        <label style="width: 150px"><b>Thời gian (phút): </b></label>
        <input type="number" class="col-sm-2 form-control" name="time">
      </div>
      <button class="btn btn-success">Tạo bài thi</button>
      <a href="/"><button class="btn btn-danger" type="button">Hủy bỏ</button></a>
    </form>
    <br>
  </div>
</div>
<% include general/footer %>
